# Configuration for data model UI

modeling_style: entity_model  # Options: dimensional_model or entity_model
# modeling_style: dimensional_model

# Transformation framework: dbt-core, dbt-fusion, sqlmesh, bruin, pydantic
# (currently only dbt-core is implemented)
framework: dbt-core

# Path to the dbt project directory (relative to this config file or absolute)
# dbt_project_path: "./dbt_concept"
# dbt_project_path: "./dbt_built"
dbt_project_path: "./dbt_company_dummy_entity"

# Path to the dbt manifest.json (relative to dbt_project_path or absolute)
dbt_manifest_path: "target/manifest.json"

# Path to the dbt catalog.json (relative to dbt_project_path or absolute)
dbt_catalog_path: "target/catalog.json"

# Path where the data model YAML will be saved (relative to dbt_project_path or absolute)
data_model_file: "data_model.yml"

# List of path patterns to include (filters dbt models by original_file_path)
# If empty, all models are included.
dbt_model_paths:
  - "3_core"

# Path to the dbt company dummy project directory (relative to this config file or absolute)
# Used by 'trellis generate-company-data' command
# Defaults to "./dbt_company_dummy" if not specified
# dbt_company_dummy_path: "./dbt_company_dummy"

# Lineage configuration (opt-in)
# When enabled: false, all lineage UI and endpoints are disabled (default: false)
# layers: Ordered list of folder names to organize lineage into layers
#   Models are assigned to layers based on the first folder after models/ in their original_file_path
#   Sources are always assigned to "sources" layer (displayed at top)
#   Models without a matching folder are assigned to "unassigned" layer (displayed at bottom)
# Legacy top-level key `lineage_layers` is deprecated; use nested `lineage.layers` instead.
lineage:
  enabled: true
  layers:
    - "1_clean"
    - "2_prep"
    - "3_core"

# Entity creation guidance (preferred block)
# Controls the entity creation wizard and push-to-dbt warnings
entity_creation_guidance:
  enabled: false  # Set false to disable the step-by-step wizard (default: true)
  push_warning_enabled: true
  min_description_length: 10
  disabled_guidance:
    #- attribute_suggestions  # Don't show attribute suggestions in wizard step 3


# Exposures configuration (opt-in).
# Use this feature if you want to track and visualize how your dbt models are used in
# downstream BI dashboards, notebooks, and applications via dbt exposures.
exposures:
  enabled: true
  default_layout: "dashboards-as-rows"

dimensional_modeling:
 inference_patterns:
   dimension_prefix: "dim_"  # Prefixes for dimension tables
   fact_prefix: "fact_"  # Prefixes for fact tables

# entity_modeling:
#   inference_patterns:
#     prefix: entity_