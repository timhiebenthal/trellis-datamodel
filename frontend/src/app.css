@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply bg-gray-50 text-gray-900;
    }
}

/* Completely hide selection boxes - we use click-only multi-select */
.svelte-flow__selection,
.react-flow__selection,
.xy-flow__selection {
    display: none !important;
    pointer-events: none !important;
}

/* 
  Fix for "white cursor on white background" issue on some OS/Theme combinations (e.g. WSL/Windows Dark Mode).
  The standard 'grab' and 'grabbing' cursors can render as white-only without borders, making them invisible.
  We override them with 'default' (arrow) and 'move' (cross/arrow) which are more robust.
*/
.svelte-flow__pane,
.svelte-flow__node,
.cursor-grab {
    cursor: default !important;
}

/* Gradient fade effect for pane text */
.svelte-flow__pane {
    color: transparent;
    background-image: linear-gradient(90deg, rgba(15, 23, 42, 0) 85%, rgba(255, 255, 255, 1) 100%);
    background-clip: text;
    -webkit-background-clip: text;
}

.svelte-flow__pane.dragging,
.svelte-flow__node.dragging,
.cursor-grabbing,
.svelte-flow__pane:active,
.svelte-flow__node:active {
    cursor: move !important;
}

/* Remove default Svelte Flow styles from all node wrappers */
.svelte-flow__node,
.svelte-flow__node.svelte-flow__node-default,
.svelte-flow__node.svelte-flow__node-entity,
.svelte-flow__node.svelte-flow__node-source,
.svelte-flow__node.svelte-flow__node-group {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    color: rgba(15, 23, 42, 0);
}

.svelte-flow__node:focus,
.svelte-flow__node:focus-visible,
.svelte-flow__node.svelte-flow__node-default:focus,
.svelte-flow__node.svelte-flow__node-default:focus-visible {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
}

/* Remove default styles from the inner node container */
.svelte-flow__node-default {
    border: none !important;
    padding: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
    outline: none !important;
}

.svelte-flow__node-default:focus,
.svelte-flow__node-default:focus-visible {
    outline: none !important;
    box-shadow: none !important;
}

/* Fix for invisible I-beam cursor */
input, textarea, [contenteditable] {
    cursor: default !important;
}

/* Ensure data type inputs and selects have proper background and text colors across all browsers */
/* This fixes the black background issue in Cursor browser and other browsers with dark mode defaults */
input[type="text"].font-mono,
select.font-mono {
    background-color: white !important;
    color: rgb(75 85 99) !important; /* text-gray-600 */
}

/* Ensure select options are visible - needed for Cursor browser */
select.font-mono option {
    background-color: white !important;
    color: rgb(75 85 99) !important;
}

/* Ensure attribute name inputs have proper background and text colors */
/* Target inputs that are likely attribute/field name inputs */
input[type="text"].font-medium:not(.font-mono),
input[type="text"][placeholder*="field_name"],
input[type="text"][placeholder*="column_name"] {
    background-color: white !important;
    color: rgb(17 24 39) !important; /* text-gray-900 */
}

/* Fix scrollbar styling for Cursor browser and other browsers */
.scrollbar-thin::-webkit-scrollbar {
    width: 6px !important;
    height: 6px !important;
}

.scrollbar-thin::-webkit-scrollbar-track {
    background: transparent !important;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(229 231 235) !important; /* gray-200 */
    border-radius: 3px !important;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(209 213 219) !important; /* gray-300 */
}

/* Firefox scrollbar */
.scrollbar-thin {
    scrollbar-width: thin !important;
    scrollbar-color: rgb(229 231 235) transparent !important;
}
